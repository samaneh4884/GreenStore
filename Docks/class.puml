@startuml
title نمودار کلاس سیستم فروشگاه اینترنتی هوشمند و پایدار

skinparam classAttributeIconSize 0

' ------------------- مدل پایه کاربر -------------------
class کاربر {
  - شناسه: int
  - نام: string
  - ایمیل: string
  - رمزعبور: string
  --
  + ورود()
  + بروزرسانی_پروفایل()
}

class مشتری {
  - حالت: string
  - امتیازات_زیست_محیطی: int
  --
  + انتخاب_حالت()
  + افزودن_امتیاز()
  + استفاده_از_امتیازات()
}

class مدیر {
  + مدیریت_محصولات()
  + مدیریت_سفارشات()
  + مدیریت_پیش_سفارشات()
  + مشاهده_گزارشات()
}

class تامین_کننده {
  - شناسه_تامین_کننده: int
  - نام: string
  --
  + شروع_تولید()
}

کاربر <|-- مشتری
کاربر <|-- مدیر

' ------------------- محصول و دسته‌بندی -------------------
class محصول {
  - شناسه_محصول: int
  - نام: string
  - قیمت: double
  - توضیحات: string
  - سازگار_با_محیط_زیست: boolean
  - بسته_بندی_قابل_بازیافت: boolean
  - موجودی: int
}

class دسته_بندی {
  - شناسه_دسته: int
  - عنوان: string
}

محصول --> دسته_بندی : متعلق_به

' ------------------- سبد خرید -------------------
class سبد_خرید {
  - شناسه_سبد: int
  - قیمت_کل: double
  --
  + افزودن_آیتم()
  + حذف_آیتم()
  + محاسبه_جمع_کل()
}

class آیتم_سبد_خرید {
  - تعداد: int
}

مشتری --> سبد_خرید
سبد_خرید "1" --> "0..*" آیتم_سبد_خرید
آیتم_سبد_خرید --> محصول

' ------------------- سفارشات -------------------
class سفارش {
  - شناسه_سفارش: int
  - مبلغ_کل: double
  - وضعیت: string
  - تاریخ_سفارش: Date
  --
  + محاسبه_مبلغ()
}

class آیتم_سفارش {
  - تعداد: int
  - قیمت_واحد: double
}

سفارش "1" --> "0..*" آیتم_سفارش
آیتم_سفارش --> محصول
مشتری --> سفارش

' ------------------- پرداخت -------------------
class پرداخت {
  - شناسه_پرداخت: int
  - مبلغ: double
  - تاریخ: Date
  - وضعیت: string
  --
  + انجام_پرداخت()
}

سفارش --> پرداخت

' ------------------- تحویل -------------------
class تحویل {
  - کد_پیگیری: string
  - وضعیت: string
  --
  + بروزرسانی_وضعیت()
}

سفارش --> تحویل

' ------------------- سیستم امتیازات زیست‌محیطی -------------------
class قانون_امتیاز {
  - شناسه_قانون: int
  - امتیاز_محصول_سبز: int
  - امتیاز_بسته_بندی_سبز: int
}

قانون_امتیاز --> محصول : ارزیابی_می_کند
مشتری --> قانون_امتیاز

' ------------------- نظرات و نظرسنجی -------------------
class نظر {
  - شناسه_نظر: int
  - امتیاز: int
  - متن_نظر: string
}

class نظرسنجی {
  - شناسه_نظرسنجی: int
  - سوال: string
  - پاسخ: string
}

مشتری --> نظر
مشتری --> نظرسنجی
نظر --> محصول
نظرسنجی --> سفارش

' ------------------- سیستم پیش‌سفارش -------------------
class کمپین_پیش_سفارش {
  - شناسه_کمپین: int
  - هدف_تعداد: int
  - سفارشات_جاری: int
  - فعال: boolean
  --
  + بررسی_آستانه()
  + فعال_سازی_تولید()
}

class پیش_سفارش {
  - شناسه_پیش_سفارش: int
  - تعداد: int
}

مشتری --> پیش_سفارش
پیش_سفارش --> محصول
کمپین_پیش_سفارش "1" --> "0..*" پیش_سفارش
کمپین_پیش_سفارش --> تامین_کننده : راه_اندازی_تولید

' ------------------- موتور پیشنهاد -------------------
class موتور_پیشنهاد {
  --
  + تولید_پیشنهادات(حالت)
}

موتور_پیشنهاد --> محصول : پیشنهاد_می_دهد
مشتری --> موتور_پیشنهاد

@enduml